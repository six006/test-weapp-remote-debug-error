"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require('../../../tslib/tslib.js');Promise.prototype.finally=function(t){var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})};var PROMISABLE={FUNCS:[],KLASS:{}},wxp={};function wxpromisify(u,f,l){return void 0===l&&(l=0),function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];return new Promise(function(t,r){var e=s[l]||{},n=e.success,o=e.fail,i=e.complete,c=tslib_1.__rest(e,["success","fail","complete"]);s[l]=tslib_1.__assign({},c,{success:function(e){t(e),n&&n(e)},fail:function(e){r(e),o&&o(e)},complete:i}),u.call.apply(u,[f].concat(s))})}}Object.getOwnPropertyNames(wx).forEach(function(e){var t=Object.getOwnPropertyDescriptor(wx,e);t&&(0<=PROMISABLE.FUNCS.indexOf(e)?Object.defineProperty(wxp,e,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return wxpromisify(wx[e],wx)}}):Object.defineProperty(wxp,e,t))}),exports.wxp=wxp;